---
layout: single
title: "내일배움캠프 62일차 7/12 TIL + A* 알고리즘 길찾기 적용"
permalink: /2024/07/12/TIL/
tags: [TIL, 내일배움캠프, 스파르타내일배움캠프, 스파르타내일배움캠프TIL, Unity, A* algorithm]
---

# 작업 내용
## A* 알고리즘 적용 방식 변경
어제 계획한대로 LinkedList Path에 저장된 Node를 하나씩 이동할 때마다 이동하기 전에 이동 가능한지 확인하고 이동하는 방식으로 변경하였다.  
일단 어제보다는 조금 나은 모습을 보이는 것 같다.  
과정 중에 잠깐 기다리게 하는 방법으로 async를 사용하기도 해봤는데 오히려 멀티 스레드에서 이동 가능한지 확인을 하는게 의미가 없는게, 확인을 하고 이동을 해야하다보니 확인 과정이 따로 놀아버리니까 이동을 멋대로 해버리는 문제만 생겼다.  
일단 MoveState 클래스는 다음과 같다.  
```
if (pathNode == null)
{
    Debug.Log("이동 할 수 없는 지역입니다");
    userUnit.StateMachine.ChangeState(userUnit.IdleState);
}
else
{
    CheckAndFindPath();
    SetGridValueAtCurrentNode(false);
}
```
Enter 시에 pathNode가 있는지 확인하는건 같지만 없을 경우 새로운 길을 찾게 했다. 그리고 SetGridValueAtCurrentNode();는 그리드상에 현재 유닛 위치를 이동 가능하게, 불가능하게 설정하는 역할이다.  
