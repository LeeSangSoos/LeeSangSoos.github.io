---
layout: single
title: "내일배움캠프 67일차 7/19 TIL + 버그 수정과 유저 편의성 개선"
permalink: /2024/07/19/TIL/
tags: [TIL, 내일배움캠프, 스파르타내일배움캠프, 스파르타내일배움캠프TIL, Unity]
---

# 작업 내용
## 버그 수정
오늘은 원래 계획대로였다면 유닛 추가를 더 진행하고 기타 작업을 해볼라고 했지만, 이번에 합치고 테스트를 진행하는 과정에서 역시나 버그들이 발견되었다.  
버그 목록은 다음과 같다 :  
홀드하면 이동 취소, 
유닛 콜라이더 작게 수정,
유닛 안보임

여기에 추가로 밖을 찍으면 이동 못하게 하자는 의견이 나와서 원래는 유닛이 이동 가능한 초록 범위 밖을 찍으면 그 방향으로 갈수 있는 곳 까지는 이동을 했는데, 이제는 그렇게 찍으면 못하게 막았다.  
![스크린샷 2024-07-19 195901](https://github.com/user-attachments/assets/290d0061-134f-4e8d-baaf-38575a2a0f03)
```
private bool IsPositionInField(Vector2 worldPosition)
{
    if (worldPosition.x > 8f || worldPosition.y > 4f || worldPosition.x < -8f || worldPosition.y < -4f)
    {
        return false;
    }
    return true;
}
public void OnMouseRightClick(InputAction.CallbackContext context)
{
    int count = selectedUnits.Count;
    if (count > 0)
    {
        MouseStartPos = mouseDrag.ReadValue<Vector2>();
        Vector2 worldMousePos = mainCamera.ScreenToWorldPoint(MouseStartPos);
        //목표 위치가 이동 범위 밖으로 나가면 이동 불가
        if (!IsPositionInField(worldMousePos))
        {
            return;
        }

```
방법은 간단하게 UserUnitController 클래스에 유저 클릭이 유닛 이동 범위 밖이면 이동 로직에서 return을 해줬다.  
