---
layout: single
title: "내일배움캠프 76일차 8/01 TIL + 마법사 추가, 공격 시스템 개선, HSM버그 수정"
permalink: /2024/08/01/TIL/
tags: [TIL, 내일배움캠프, 스파르타내일배움캠프, 스파르타내일배움캠프TIL, Unity, HSM]
---

# 작업 내용
## 마법사 유닛 추가
![스크린샷 2024-08-01 195348](https://github.com/user-attachments/assets/bda59eb8-3ccd-405e-8a6c-ea953f5f7466)  
마법사 유닛을 추가하였다. 공격은 파이어볼트로 화염구체를 날려서 적에게 맞으면 폭발 애니메이션이 실행되고 주변에 데미지를 준다.  
그런데 이 유닛을 만들다보니 공격 시스템이 UserUnitAction 클래스의 Attack 함수 한개에서 상태이상, 범위공격, 투사체 등을 모두 관리하는게 너무 확장성도 별로고 유지보수도 별로 같아 보였다.  
그래서 공격 시스템을 개편하기로 했다.  

## 공격 시스템 개편
당장 계획은 AttackBehaviour 클래스를 만들고 거기에 Attack 함수를 넣어준 다음 파생 클래스들에서 이를 구현하여 호출할 생각이다.  

## HSM에 버그
그리고 Statemachine에 버그가 있는데, NavMesh가 완벽하지는 않아서 가끔 유닛이 제자리 걸음을 하고 있다.  
그래서 유닛이 이전 위치와 위치가 똑같으면 IdleState로 탈출하게 하였는데 아주 미세한 차이로 제자리 걸음을 계속했다.  
그래서 

# 마무리
